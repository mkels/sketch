<!DOCTYPE html>
<html>
<head>
	<title>Etch-a-Sketch</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<button id="bw">New Blank Sketchpad</button>
	<button id="randomColor">Random Color</button>
	<button id="fade">Fade</button>
	<div id="container"></div>
	<script>
		var count = 0;
		var r, g, b;
		function getColor() {
			r = Math.floor(Math.random() * Math.floor(256));
			g = Math.floor(Math.random() * Math.floor(256));
			b = Math.floor(Math.random() * Math.floor(256));
		}

		//Create the black and white grid.
		const container = document.querySelector('#container');
		function bwGrid(n) {
			n = prompt("Enter a number", n);

			//Calculate grid box size
			const size = 960 / n;

			for( j = 0; j < n; j++ ){
				for( i = 0; i < n; i++ ) {
					const block = document.createElement('div');
					block.classList.add('square');
					block.style.width = size + "px";
					block.style.height = size + "px";
					block.style.backgroundColor = "white";
					block.addEventListener('mouseenter', () => {
						block.style.backgroundColor = "black";
					});
					container.appendChild(block);
				}
			}
		}

		//Create the random color grid.
		function randomGrid(n) {
			n = prompt("Enter a number", n);

			//Calculate grid box size
			const size = 960 / n;

			for( j = 0; j < n; j++ ){
				for( i = 0; i < n; i++ ) {
					const block = document.createElement('div');
					block.classList.add('square');
					block.style.width = size + "px";
					block.style.height = size + "px";
					block.addEventListener('mouseenter', () => {
						getColor();
						block.style.backgroundColor = "rgb(" + r +", " + b + ", " + g + ")";
					});
					container.appendChild(block);
				}
			}
		}

		function fade(n) {
			n = prompt("Enter a number", n);

			//Calculate grid box size
			const size = 960 / n;

			for( j = 0; j < n; j++ ) {
				for( i = 0; i < n; i++ ) {
					const block = document.createElement('div');
					block.classList.add('square');
					block.style.width = size + "px";
					block.style.height = size + "px";
					block.addEventListener('mouseenter', () => {
						getColor();
						while (count < 1) {
							block.style.backgroundColor = "rgb(" + r + ", " + g + ", " + b + ")";
							count++;
						}
					});
					container.appendChild(block);
				}
			}
		}

		//New black/white sketchpad button
		btns = document.querySelector('#bw');	
		btns.addEventListener('click', () => {
			const container = document.querySelector('#container');
			var square = container.firstChild;

			while( square ) {
				container.removeChild(square);
				square = container.firstChild;
			}

			bwGrid();
		})

		//Random color button
		btn = document.querySelector('#randomColor');	
		btn.addEventListener('click', () => {
			const container = document.querySelector('#container');
			var square = container.firstChild;

			while( square ) {
				container.removeChild(square);
				square = container.firstChild;
			}

			randomGrid();
		})

		//Fade color button
		btn = document.querySelector('#fade');	
		btn.addEventListener('click', () => {
			const container = document.querySelector('#container');
			var square = container.firstChild;

			while( square ) {
				container.removeChild(square);
				square = container.firstChild;
			}

			fade();
		})
	</script>
</body>
</html>